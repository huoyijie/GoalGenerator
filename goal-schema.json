{
    "$id": "https://cdn.huoyijie.cn/uploads/2023/04/goal-schema.json",
    "$schema": "https://json-schema.org/draft-07/schema",
    "title": "GoalGenerator Schema",
    "description": "Define a model with CRUD required",
    "type": "object",
    "required": ["package", "name", "fields"],
    "properties": {
        "package": {
            "type": "string",
            "description": "name of package"
        },
        "name": {
            "type": "string",
            "description": "name of type"
        },
        "storageRules": {
            "type": "array",
            "description": "storage rules",
            "items": {
                "type": "string",
                "enum": ["embeddingBase"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "componentRules": {
            "type": "array",
            "description": "component rules",
            "items": {
                "type": "string",
                "enum": ["lazy"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "fields": {
            "type": "array",
            "description": "fields of type",
            "items": {
                "type": "object",
                "description": "properties of field",
                "required": ["name", "component"],
                "properties": {
                    "name": {
                        "type": "string",
                        "description": "name of field"
                    },
                    "storageRules": {
                        "type": "array",
                        "description": "storage rules",
                        "items": {
                            "type": "string",
                            "enum": ["primaryKey", "unique", "index"]
                        },
                        "minItems": 1,
                        "uniqueItems": true
                    },
                    "component": {
                        "type": "string",
                        "description": "name of component",
                        "enum": ["number", "uuid", "switch", "text", "password", "dropdown", "calendar", "file"]
                    },
                    "componentRules": {
                        "type": "array",
                        "description": "component rules",
                        "items": {
                            "type": "string"
                        },
                        "minItems": 1,
                        "uniqueItems": true
                    },
                    "validateRules": {
                        "type": "array",
                        "description": "validate rules",
                        "items": {
                            "type": "string"
                        },
                        "minItems": 1,
                        "uniqueItems": true
                    }
                }
            }
        }
    }
}